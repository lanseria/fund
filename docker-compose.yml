# docker-compose.yml (简化后)
services:
  fund_service: # 将两个服务合并成一个
    build: .
    container_name: fund_service # 新的容器名
    env_file:
      - .env # 或 .env.prod
    ports:
      - "8000:8000"
    command: >
      sh -c "python -m uvicorn src.python_cli_starter.main:api_app --host 0.0.0.0 --port 8000"
    restart: unless-stopped
    networks:
      - shared_app_net

networks:
  shared_app_net:
    external: true
    name: shared-db-network